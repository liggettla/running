<!DOCTYPE html>
<html>

<head>
    <title>Running Log</title>

    <style>
        /* This is a basic CSS to position the username on the top right corner */
        .username-display {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
    
</head>
<body>

    <!-- This block will check if user is authenticated and then display the username -->
    {% if user.is_authenticated %}
    <div class="username-display">
        Hello, {{ user.username }}!
        <br>
        <a href="{% url 'logout' %}">Logout</a>
    </div>
    {% endif %}

    <h2>Running Log</h2>
    <!-- link to running log app -->
    <a href="/">Home</a>
    <!-- A form for adding a run. The 'method="post"' means that this form will send a POST request when submitted. -->
    <form method="post">
        <!-- This is a security feature that protects against certain types of attacks. -->
        {% csrf_token %}
        <!-- The form fields. 'form.as_p' means to render the form fields as paragraphs. -->
        {{ form.as_p }}
        <!-- The submit button for the form. -->
        <button type="submit">Add run</button>
    </form>
    <h3>Your runs:</h3>
    <!-- A list of the user's runs. -->
    <ul>
        <!-- Loop over each run in 'runs'. -->
        {% for run in runs %}
        <li>
            <!-- Display the date, distance, and time of the run. -->
            Date: {{ run.date }}, Distance: {{ run.distance }} km, Time: {{ run.time }}
        </li>
        <!-- If 'runs' is empty (i.e., the user has no runs), display 'No runs yet.' -->
        {% empty %}
        <li>No runs yet.</li>
        {% endfor %}
    </ul>
</body>
</html>
